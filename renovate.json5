{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  // "extends": ["config:best-practices"],
  "dependencyDashboard": true,
  "enabledManagers": [
    "custom.regex" // ,"dockerfile"
  ],
  "customManagers": [
    {
      "customType": "regex",
      "fileMatch": [
        "hardening_manifest.yaml"
      ],
      "matchStrings": [
        "resources:\\n- url: (?<depName>https://packages.konghq.com/public/gateway-\\d\\d/rpm/el/\\d/x86_64/kong-)(?<currentValue>\\d+\\.\\d+\\.\\d+)\\.el"
      ],
      "matchStringsStrategy": "recursive",
      "datasourceTemplate": "custom.pages",
      "packageNameTemplate": "kong/kong",
      // "versioningTemplate": "kong",
      // "extractVersionTemplate": "(?<version>\\d+\\.\\d+\\.\\d+)"
      // "extractVersionTemplate": "(?<version>\\d+\\.\\d+\\.\\d+)"
      // "autoReplaceStringTemplate": "https://packages.konghq.com/public/gateway-/rpm/el/{{{ elVersion }}}/x86_64/kong-{{{ newValue }}}.el"
      // "autoReplaceStringTemplate": "https://packages.konghq.com/public/gateway-{{{ newMinor }}}/rpm/el/{{{ elVersion }}}/x86_64/kong-{{{ newValue }}}.el{{{ elVersion }}}.x86_64.rpm"
      // "autoReplaceStringTemplate": "{{{ sourceUrl }}}"
      "autoReplaceStringTemplate": "resources:\\n- url: {{{depName}}}{{{newValue}}}.el"
    }
  ],
  "customDatasources": {
    "pages": {
      "defaultRegistryUrlTemplate": "https://kong.github.io/renovate-datasource/{{packageName}}/releases.json",
      "format": "json",
      "transformTemplates": [
        // "{\"releases\": $.releases.{\"version\": sourceUrl}}"
      ]
    }
  },
  "packageRules": [
    {
      "matchDatasources": ["custom.pages"],
      "groupName": "custom"
    }
  ]
}
